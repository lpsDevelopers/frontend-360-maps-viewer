<div class="vr-container">
  <!-- Contenedor principal para VR -->
  <div  class="vr-viewer">
    <app-loader-cube ></app-loader-cube>
    <div class="sphere"></div>
    <app-hotspot></app-hotspot><app-open-hotspot></app-open-hotspot>


    <div
      class="tooltip"
      *ngIf="tooltipVisible"
      [ngStyle]="{ left: tooltipX + 'px', top: tooltipY + 'px' }">
      {{ tooltipLabel }}
    </div>

    <button class="back-btn btn" (click)="onBackButtonClick()">
      <svg
        fill="none"
        stroke="currentColor"
        stroke-width="1.5"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"
        ></path>
      </svg>
    </button>

    <div class="controls">
      <button class="btn" (click)="toggleFullScreen()">
        <svg
          *ngIf="!OnfullScreenService"
          fill="none"
          stroke="currentColor"
          stroke-width="1.5"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"
          ></path>
        </svg>
        <svg
          *ngIf="OnfullScreenService"
          fill="none"
          stroke="currentColor"
          stroke-width="1.5"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M9 9V4.5M9 9H4.5M9 9L3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5l5.25 5.25"
          ></path>
        </svg>
      </button>

      <!-- Nuevo botÃ³n para toggle del mapa -->
      <button class="btn" (click)="toggleMap()">
        <svg
          fill="none"
          stroke="currentColor"
          stroke-width="1.5"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M9 6.75V15m6-6v8.25m.503 3.498l4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 00-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.158.69-.158 1.006 0l4.994 2.497c.317.158.69.158 1.007 0z"
          ></path>
        </svg>
      </button>

      <button class="change-mode-btn btn" (click)="showControlInfo()">
        <svg
          class="compass"
          fill="none"
          stroke="currentColor"
          stroke-width="1.5"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <circle cx="12" cy="12" r="9.5" />
          <path d="M18.5 12H19.5" stroke-linecap="round" />
          <path d="M4.5 12H5.5M12 4.5V5.5M12 18.5V19.5" stroke-linecap="round" />
          <path
            d="M7.04924 7.11489L9.36973 12.5294C9.77433 13.4734 10.5266 14.2257 11.4706 14.6303L16.8851 16.9508C16.9266 16.9685 16.9685 16.9266 16.9508 16.8851L14.6303 11.4706C14.2257 10.5266 13.4734 9.77433 12.5294 9.36973L7.11489 7.04924C7.07341 7.03146 7.03146 7.07341 7.04924 7.11489Z"
            stroke-linecap="round"
          />
          <circle cx="12" cy="12" r="2.5" stroke-linecap="round" />
        </svg>
      </button>
    </div>

    <span *ngIf="controlsInfo === 'Orbit'" class="control-info" [@toggleVisibility]
    >Camera is contolled by mouse or finger touch</span>
    <span
      *ngIf="controlsInfo === 'Orientation'"
      class="control-info"
      [@toggleVisibility]
    >Camera is contolled by device orientation</span>
  </div>

  <!-- Contenedor del mapa con toggle -->
  <div class="map-overlay"

       [class.map-visible]="showMap"
       [class.map-hidden]="!showMap"
  >
    <app-map-test
      [customStyle]="{
      position: 'absolute',
      width: '500px',
      top: '40em',
      bottom: '2em',
      left: '2em',

      }"
    ></app-map-test>
  </div>
</div>
